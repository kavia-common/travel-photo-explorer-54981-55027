{"is_source_file": true, "format": "JavaScript", "description": "This file defines a JavaScript module that provides a wrapper around fetch to interact with a backend API. It includes functions for authentication, fetching user profile, listing photos, searching photos, and querying the Unsplash API. The module exports an object 'api' with these methods.", "external_files": ["fetch (built-in browser API)"], "external_methods": ["fetch"], "published": ["api"], "classes": [], "methods": [{"name": "request(path, { method = \"GET\", body, token } = {})", "description": "An async function that performs HTTP requests to the backend API with support for authentication tokens, JSON handling, and error processing.", "scope": "", "scopeKind": ""}, {"name": "login(email, password)", "description": "Posts user credentials to /auth/login to authenticate and retrieve an authentication response.", "scope": "api", "scopeKind": "class"}, {"name": "me(token)", "description": "Fetches the profile of the current user using the provided auth token.", "scope": "api", "scopeKind": "class"}, {"name": "listMyPhotos(token, location)", "description": "Retrieves a list of the user's photos, optionally filtered by location.", "scope": "api", "scopeKind": "class"}, {"name": "searchMyPhotos(token, q)", "description": "Searches within the user's photos via a query string.", "scope": "api", "scopeKind": "class"}, {"name": "searchUnsplash(query, page = 1, perPage = 12)", "description": "Queries the Unsplash API for photos based on a search term, page, and per_page parameter.", "scope": "api", "scopeKind": "class"}], "calls": ["fetch", "headers.get", "res.headers.get", "res.json()", "request"], "search-terms": ["api.js", "fetch wrapper", "auth support", "React environment variable", "photo search", "Unsplash API", "user profile", "photo listing"], "state": 2, "file_id": 13, "knowledge_revision": 30, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_URL", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^const API_URL = process.env.REACT_APP_BACKEND_URL || \"http:\\/\\/localhost:3001\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  const headers = { \"Content-Type\": \"application\\/json\" };$/", "language": "JavaScript", "kind": "property", "scope": "request.headers", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  const headers = { \"Content-Type\": \"application\\/json\" };$/", "language": "JavaScript", "kind": "class", "scope": "request", "scopeKind": "class"}, {"_type": "tag", "name": "listMyPhotos", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async listMyPhotos(token, location) {$/", "language": "JavaScript", "kind": "method", "signature": "(token, location)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async login(email, password) {$/", "language": "JavaScript", "kind": "method", "signature": "(email, password)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async me(token) {$/", "language": "JavaScript", "kind": "method", "signature": "(token)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^async function request(path, { method = \"GET\", body, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = \"GET\", body, token } = {})"}, {"_type": "tag", "name": "searchMyPhotos", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async searchMyPhotos(token, q) {$/", "language": "JavaScript", "kind": "method", "signature": "(token, q)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "searchUnsplash", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async searchUnsplash(query, page = 1, perPage = 12) {$/", "language": "JavaScript", "kind": "method", "signature": "(query, page = 1, perPage = 12)", "scope": "api", "scopeKind": "class"}], "hash": "581568ef71033b2ded078fba6b3a1ab0", "format-version": 4, "code-base-name": "travel_photo_frontend", "filename": "travel_photo_frontend/src/api.js", "fields": [{"name": "const headers = { \"Content-Type\": \"application\\/json\" };", "scope": "request.headers", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"30": ""}]}