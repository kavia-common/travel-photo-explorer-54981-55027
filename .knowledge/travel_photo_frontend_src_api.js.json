{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript module providing an API client wrapper for a front-end application, interacting with a backend server. It contains functions for user authentication, profile retrieval, photo listing, searching photos, and interfacing with Unsplash, all utilizing fetch with error handling.", "external_files": ["fetch API (built-in browser API)"], "external_methods": ["fetch"], "published": ["api"], "classes": [], "methods": [{"name": "request(path, { method = \"GET\", body, token } = {})", "description": "A wrapper around fetch that adds headers, error handling, and JSON processing.", "scope": "", "scopeKind": ""}, {"name": "login(email, password)", "description": "Authenticates a user with email and password, returning the auth response.", "scope": "api", "scopeKind": "class"}, {"name": "me(token)", "description": "Retrieves current user's profile information using an authentication token.", "scope": "api", "scopeKind": "class"}, {"name": "register(email, password, name)", "description": "Registers a new user account with email, password, and optional name.", "scope": "api", "scopeKind": "class"}, {"name": "listMyPhotos(token, location)", "description": "Lists the current user's photos, optionally filtered by location.", "scope": "api", "scopeKind": "class"}, {"name": "searchMyPhotos(token, q)", "description": "Searches within the user's photos based on a query.", "scope": "api", "scopeKind": "class"}, {"name": "searchUnsplash(query, page = 1, perPage = 12)", "description": "Searches Unsplash for photos matching a query, with pagination options.", "scope": "api", "scopeKind": "class"}], "calls": ["fetch", "res.headers.get", "JSON.stringify", "encodeURIComponent"], "search-terms": ["API_URL", "REACT_APP_BACKEND_URL", "request", "auth", "photos", "search", "Unsplash", "fetch wrapper", "error handling"], "state": 2, "file_id": 13, "knowledge_revision": 48, "git_revision": "5427137befc2365d3642984aea16e610330f3562", "revision_history": [{"30": ""}, {"46": "63355d6b5b744008e19aa072c9022312263959da"}, {"48": "5427137befc2365d3642984aea16e610330f3562"}], "ctags": [{"_type": "tag", "name": "API_URL", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^const API_URL = envUrl || inferredUrl;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  const headers = { \"Content-Type\": \"application\\/json\" };$/", "language": "JavaScript", "kind": "property", "scope": "request.headers", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "envUrl", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^const envUrl = (process.env.REACT_APP_BACKEND_URL || \"\").replace(\\/\\\\\\/+$\\/, \"\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  const headers = { \"Content-Type\": \"application\\/json\" };$/", "language": "JavaScript", "kind": "class", "scope": "request", "scopeKind": "class"}, {"_type": "tag", "name": "inferredUrl", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^let inferredUrl = \"\";$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "listMyPhotos", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async listMyPhotos(token, location) {$/", "language": "JavaScript", "kind": "method", "signature": "(token, location)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async login(email, password) {$/", "language": "JavaScript", "kind": "method", "signature": "(email, password)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async me(token) {$/", "language": "JavaScript", "kind": "method", "signature": "(token)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async register(email, password, name) {$/", "language": "JavaScript", "kind": "method", "signature": "(email, password, name)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^async function request(path, { method = \"GET\", body, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = \"GET\", body, token } = {})"}, {"_type": "tag", "name": "searchMyPhotos", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async searchMyPhotos(token, q) {$/", "language": "JavaScript", "kind": "method", "signature": "(token, q)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "searchUnsplash", "path": "/home/kavia/workspace/code-generation/travel-photo-explorer-54981-55027/travel_photo_frontend/src/api.js", "pattern": "/^  async searchUnsplash(query, page = 1, perPage = 12) {$/", "language": "JavaScript", "kind": "method", "signature": "(query, page = 1, perPage = 12)", "scope": "api", "scopeKind": "class"}], "hash": "5e62d3ac16239ebf571fdce25c41f547", "format-version": 4, "code-base-name": "travel_photo_frontend", "filename": "travel_photo_frontend/src/api.js", "fields": [{"name": "const headers = { \"Content-Type\": \"application\\/json\" };", "scope": "request.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "let inferredUrl = \"\";", "scope": "", "scopeKind": "", "description": "unavailable"}]}